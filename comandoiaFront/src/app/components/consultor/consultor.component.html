<div class="aplicacion">
  <div class="menu-lateral">
    <h2>IA Malvinas</h2>
    <ul class="lista-opciones">
      <li>
        <button type="button" class="menu-titulo" (click)="mostrarInicioBoton()">
          <span class="texto">Inicio</span>
        </button>

        <button type="button" class="menu-titulo">
          <span class="texto">Consultar Reclamos</span>
          <span class="flecha">‚ñ∂</span>
        </button>
        <div class="subbotones">
          <button class="subboton" (click)="mostrarGraficosReclamosBoton()">Visualizar Gr√°ficos</button>
          <button class="subboton" (click)="mostrarMapaReclamosBoton()">Visualizar Mapas</button>
        </div>
      </li>
      <li>
        <button type="button" class="menu-titulo">
          <span class="texto">Consultar Obras</span>
          <span class="flecha">‚ñ∂</span>
        </button>
        <div class="subbotones">
          <button class="subboton">Visualizar Gr√°ficos</button>
          <button class="subboton">Visualizar Mapas</button>
        </div>
      </li>
    </ul>

    <button class="btn-ia-malvinas">
      <span>üí¨ HABLAR CON IA MALVINAS</span>
    </button>
    <button class="boton-volver">Volver hacia atr√°s</button>
  </div>

  <div class="contenido-principal">
    <div class="titulo">
      <h2>GR√ÅFICOS DE RECLAMOS</h2>
    </div>

    <!-- SECCI√ìN INICIO -->
    <div *ngIf="mostrarInicio" class="inicio">
      <h1>INICIO</h1>
    </div>

    <!-- SECCI√ìN GR√ÅFICOS -->
    <div *ngIf="mostrarGraficosReclamos" class="graficos-reclamos">
      <div class="filtros-container">
        <div class="filtro-item">
          <label>Fecha desde:</label>
          <input type="date" [(ngModel)]="fechaDesdeReclamo" />
        </div>

        <div class="filtro-item">
          <label>Fecha hasta:</label>
          <input type="date" [(ngModel)]="fechaHastaReclamo" />
        </div>

        <div class="filtro-item">
          <label>Estado:</label>
          <select [(ngModel)]="estadoReclamoSeleccionado">
            <option value=""></option>
            <option *ngFor="let estado of estadosReclamoDisponibles" [value]="estado">{{ estado }}</option>
          </select>
        </div>

        <div class="filtro-item">
          <label>Localidad:</label>
          <select [(ngModel)]="localidadSeleccionada">
            <option value=""></option>
            <option *ngFor="let loc of localidadesDisponibles" [value]="loc">{{ loc }}</option>
          </select>
        </div>

        <div class="filtro-item">
          <label>Barrio:</label>
          <select [(ngModel)]="barrioSeleccionado">
            <option value=""></option>
            <option *ngFor="let barrio of barriosDisponibles" [value]="barrio">{{ barrio }}</option>
          </select>
        </div>

        <div class="filtro-item">
          <label>Tipo de reclamo:</label>
          <select [(ngModel)]="tipoReclamoSeleccionado">
            <option value=""></option>
            <option *ngFor="let tipo of tiposReclamoDisponibles" [value]="tipo">{{ tipo }}</option>
          </select>
        </div>

        <div class="filtro-item">
          <label>Nivel de Satisfacci√≥n:</label>
          <select [(ngModel)]="nivelReclamoSeleccionado">
            <option value=""></option>
            <option *ngFor="let nivel of nivelesReclamoDisponibles" [value]="nivel">{{ nivel }}</option>
          </select>
        </div>

        <div class="filtro-item">
          <label>Tiempo de resoluci√≥n mayor a (d√≠as):</label>
          <input type="number" min="0" [(ngModel)]="tiempResoMayor" />
        </div>

        <div class="filtro-item">
          <label>Tiempo de resoluci√≥n menor a (d√≠as):</label>
          <input type="number" min="0" [(ngModel)]="tiempResoMenor" />
        </div>

        <div class="filtro-item">
          <label>Agrupar por:</label>
          <select [(ngModel)]="grupoPor" (change)="actualizarAgrupamiento()">
            <option value="estado">Estado</option>
            <option value="localidad">Localidad</option>
            <option value="barrio">Barrio</option>
            <option value="tipo">Tipo de Reclamo</option>
            <option value="satisfaccion">Nivel de Satisfacci√≥n</option>
            <option value="mes">Mes</option>
            <option value="rangoResolucion">Tiempo de Resoluci√≥n</option>
          </select>
        </div>

        <div class="filtro-item">
          <button (click)="aplicarFiltros()">Aplicar filtros</button>
        </div>



      </div>
    </div>

    <div class="tipo-grafico" *ngIf="tipoGrafico">
      <label>Tipo de gr√°fico:</label>
      <select [(ngModel)]="tipoGraficoSeleccionado" (change)="actualizarGrafico()">
        <option value="bar">Barras</option>
        <option value="pie">Torta</option>
        <option value="line">L√≠neas</option>
        <option value="doughnut">Dona</option>
        <option value="radar">Radar</option>
        <option value="polarArea">√Årea polar</option>
      </select>
    </div>

    <div class="grafico-container" [ngClass]="getChartSizeClass()" *ngIf="mostrarGraficosReclamos">
      <canvas baseChart
              [data]="chartData"
              [options]="chartOptions"
              [type]="chartType">
      </canvas>
    </div>

    <!-- SECCI√ìN MAPA -->
    <div *ngIf="mostrarMapaReclamos" class="mapa-reclamos">
      <h2>Mapa de Reclamos</h2>
      <div class="mapa" id="map"></div>
    </div>
</div>
</div>
